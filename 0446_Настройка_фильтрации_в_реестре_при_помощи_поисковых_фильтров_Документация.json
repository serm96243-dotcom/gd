{
  "title": "Настройка фильтрации в реестре при помощи поисковых фильтров",
  "text": "Была ли статья полезной?\nДа\nНет\nСпасибо за вашу оценку!\nОставляя более подробный отзыв, вы помогаете нам улучшать документацию\nКомментарий к оценке\nКонтактная информация (необязательно)\nВложения\nДобавить файл\nОтменить\nОтправить\nНастройка фильтрации в реестре при помощи поисковых фильтров\nОдним из важных аспектов работы с реестром является возможность быстрого поиска необходимой информации среди большого количества данных. Для удобства это может быть реализовано при помощи специальной панели с настроенными параметрами фильтрации.\nПостановка задачи\nВ банк поступают заявки от клиентов на открытие счетов, с одной заявкой может быть связано от 1 до 100 счетов. Сотрудники банка работают с реестром заявок, при этом работа со счетами осуществляется через заявку. Помимо этого к заявке могут быть добавлены сформированные документы с изменяемым статусом.\nДля поиска заявок в реестре необходимо предоставить сотрудникам возможность фильтрации данных:\nПо номерам счетов клиентов.\nПри этом \"Счет\" – это дочерний атрибут типа \"Заявка\".\nПо статусам счетов. Например, счета со статусами \"Активно\" или \"Отозвано\".\nПри этом \"Статус счета\" – это объектный атрибут типа \"Счет\", на который ссылается одноименный дочерний атрибут типа \"Заявка\".\nПо статусу сформированных документов. Например, заявки в которых содержатся сформированные документы со статусами \"Согласование\" или \"Формирование\".\nПри этом \"Сформированные документы\" – это объектный атрибут типа \"Заявка\", ссылающийся на тип \"Документ\", в атрибутивном составе которого содержится объектный атрибут \"Статус документа\".\nОбъектная модель\nДля данного примера объектная модель представлена 6 типами объектов:\nв системе реализованы два основных типа объектов \"Заявка\" [APPLICATION] и \"Счет\" [ACCOUNT], которые связаны через дочерний атрибут \"Счет\" в типе \"Заявка\";\nпомимо этого задействованы типы \"Статус счета\" [ACCOUNT_STATUS], \"Документ\" [DOCUMENT], \"Статус документа\" [DOCUMENT_STATUS] и \"Сотрудник\" [SYS_EMP].\nТип объекта \"Счет\" [ACCOUNT] содержит данные о номере клиента, помимо этого в атрибутивном составе содержатся:\n\"Статус счета\" – объектный атрибут, ссылающийся на одноименный тип объектов, экземпляры которого – виды статусов счета;\n\"Заявка\" – объектный атрибут, ссылающийся на одноименный тип объектов, используемый для закрепления счета за определенной заявкой.\nТип объекта \"Заявка\" [APPLICATION] содержит данные о заявке, такие как наименование и статус принятия заявки, помимо этого в атрибутивный состав включает:\n\"Счет\" – дочерний атрибут, который связан с одноименным типом объектов, что позволяет отобразить в карточке заявки привязанные к ней счета клиентов;\n\"Ответственный сотрудник\" – объектный атрибут, ссылающийся на тип объектов \"Сотрудник\", используемый для назначения ответственного по заявке;\n\"Сформированные документы\" – объектный\nmultiselect-атрибут\n, ссылающийся на тип объектов \"Документ\", через который выбираются сформированные по заявке документы.\nТип объектов \"Документ\", в свою очередь, содержит объектный атрибут \"Статус документа\", ссылающийся на одноименный тип объектов, экземпляры которого – виды статусов документа.\nТаким образом,\nдиаграмма предметной области\nпримет следующий вид:\nНастройка\nДля добавления панели с параметрами фильтрации потребуется открыть реестр типа \"Заявка\" и перейти к его настройке по кнопке\n.\nВ открывшемся модальном окне необходимо перейти на вкладку\n\"Фильтрация и поисковые фильтры\"\nи активировать переключатель \"Отображать поисковые фильтры\".\nДалее в расширенных настройках поисковых фильтров перейти на вкладку\n\"Фильтры\"\nопределяются атрибуты будущей фильтрации объектов в реестре, для этого согласно поставленной задаче из таблицы \"Доступные атрибуты\" в таблицу \"Настройка панели поиска\" при помощи стрелок\nследует перенести:\nДочерний атрибут \"Счет\".\nОбъектный атрибут \"Статус счета\", доступный в выпадающем списке дочернего атрибута \"Счет\".\nОбъектный атрибут \"Статус документа\", доступный в выпадающем списке объектного атрибута \"Сформированные документы\".\nПри необходимости можно скорректировать наименование и вид визуализации атрибутов, используемых для будущей фильтрации. Например, для статуса документа выбрать визуализацию \"Содержимое справочника в виде listbox\":\nТакже следует скорректировать наименование автоматически созданной группы, в которую были добавлены атрибуты (при необходимости атрибуты могут быть расформированы по отдельным группам).\nПомимо этого можно изменить порядок атрибутов и задать иные параметры настройки поиска и расположения панели фильтрации, например, активировать переключатель \"Поиск применяется сразу после изменений\".\nПодробнее с параметрами настройки поисковых фильтров можно ознакомиться в\nстатье\n.\nВнесенные изменения следует сохранить по кнопке\n.\nВ результате чего в реестре отобразится панель поиска и фильтрации, на которой отображаются списки экземпляров:\nДочернего атрибута \"Счет\". Заявки фильтруются после выбора необходимых счетов из выпадающего списка. В результате отобразятся все заявки, в которых имеется хотя бы один из указанных счетов.\nВ данном случае при выборе 5 счетов в реестре отобразилось 4 заявки, так как два выбранных счета принадлежат одной заявке.\nОбъектного атрибута \"Статус счета\", на который ссылается одноименный дочерний атрибут типа \"Заявка\".\nВ выпадающем списке данного фильтра выбираются статусы \"Активно\", \"Отозвано\". В результате отобразятся все заявки, которые содержат счета с указанными статусами.\nВ рамках данной задачи 5 счетов удовлетворяют заданным параметрам фильтрации, которые в свою очередь закреплены за 3 заявками, отобразившимися в реестре.\nОбъектного атрибута \"Статус документа\", добавленного в атрибутивный состав типа \"Документ\", на который ссылается объектный атрибут \"Сформированные документы\" в типе \"Заявка\".\nПосле выбора статусов \"Согласование\" и \"Формирование\", в реестре отобразятся только заявки, содержащие сформированные документы с указанными статусами.\nВ данном случае статус \"Согласование\" и \"Формирование\" установлен для двух документов, которые в свою очередь выбраны в четырех заявках.",
  "source": "https://docs.greendata.ru/platform/ru/configuring_filters_in_registry_using_search_filters.html"
}