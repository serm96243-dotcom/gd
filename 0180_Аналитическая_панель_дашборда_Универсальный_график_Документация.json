{
  "title": "Аналитическая панель дашборда \"Универсальный график\"",
  "text": "Была ли статья полезной?\nДа\nНет\nСпасибо за вашу оценку!\nОставляя более подробный отзыв, вы помогаете нам улучшать документацию\nКомментарий к оценке\nКонтактная информация (необязательно)\nВложения\nДобавить файл\nОтменить\nОтправить\nАналитическая панель дашборда \"Универсальный график\"\nЕсли табличного представления данных для аналитических действий и принятия управленческих решений недостаточно, то с целью повышения наглядности данных нужно использовать графические средства путем внедрения в пользовательский интерфейс аналитической панели \"Универсальный график\".\nГрафики позволяют не только визуализировать данные в интерактивном формате, но и обеспечивать выдачу снимков в графических форматах и в формате PDF-документа.\nПостроение графиков и диаграмм, их визуализация и интерактивность диалога (анимация, подсветка элементов, появление выносок и пр.) возможны благодаря интегрированию в платформу GreenData программной библиотеки Highcharts.\nНапример, демонстрация ежеквартального тоннажа поставок по трем городам может быть представлена в следующем виде:\nГрафики и диаграммы настраиваются и размещаются на экранных формах (\nдашбордах\n).\nДля создания или перехода к существующему дашборду необходимо открыть главное меню Системы и последовательно выбрать пункты меню:\nОтчеты → Дашборды\n.\nСоздание нового дашборда осуществляется по кнопке\nс дальнейшим указанием наименования и сохранения нового дашборда.\nВ режиме редактирования дашборда (подробнее про\nнастройку дашборда\n) из раздела \"Панели на базе источника\" панели \"Элементы\" необходимо перетащить (Drag&Drop) аналитическую панель \"Универсальный график\" в рабочую область карточки.\nПредварительная настройка\nДля настройки параметров аналитической панели \"Универсальный график\" в рамках используемого дашборда должен быть подготовлен источник, сформированный\nна основе алгоритма\n, возвращающего диаграмму.\nПосредством данного алгоритма передаются данные для построения графика/диаграммы, а также непосредственно настраивается отображение графика/диаграммы в карточке дашборда.\nСхема внедрения графиков.\nФормирование источника\nДля формирования источника необходимо в режиме редактирования дашборда перейти к окну управления источниками и добавить источник на основе алгоритма.\nПри создании источника указываются его наименование и\nалгоритм, формирующий источник\n. При этом алгоритм может быть выбран из подготовленных заранее алгоритмов, создан при помощи действия \"Добавить\" или отредактирован в процессе создания источника действием \"Редактировать\".\nАлгоритм\nПлатформа GreenData поддерживает весь спектр графиков Highcharts.\nНаписание кода алгоритма\nможно осуществлять полностью вручную, однако более эффективным подходом будет использование заранее подготовленных шаблонов графиков.\nВставка готового шаблона алгоритма осуществляется путем выбора функции на вкладке\n\"Графики\"\nредактора алгоритмов:\nDonutChart\n— пончиковая диаграмма;\nPyramidChart\n— пирамидальная диаграмма;\nFunnelChart\n— воронкообразная диаграмма;\nChart\n— комбинированная диаграмма;\nPieChart\n— круговая диаграмма;\nLineChart\n— линейная диаграмма;\nSplineChart\n— сглаженная линейная диаграмма;\nColumnChart\n— столбчатая диаграмма;\nBarChart\n— диаграмма столбчатого сравнения;\nAreaChart\n— диаграмма областей.\nКод шаблона является функциональным, но требует ручной корректировки в соответствии с условиями конкретной задачи.\nС описанием функций и методов, используемых при построении графика, можно ознакомиться в статье\n\"Настройка универсального графика\"\n.\nКлючевыми объектами графика, их параметрами и компонентами, настраиваемыми при помощи кода алгоритма, являются:\n1.\nГрафик\n.\nВключая:\nзаголовок;\nподзаголовок;\nгоризонтальная ось (подпись и шкала);\nвертикальная ось (подпись и шкала).\n2.\nЛегенда\n.\nВключая:\nразрешение (на использование);\nвыравнивание по горизонтали;\nвыравнивание по вертикали;\nрасположение (горизонтальное или вертикальное).\n3.\nСерия\n(набор данных).\nЗапись данных (конечное значение или пара значения и подписи).\nВ зависимости от типа графика набор доступных для настройки элементов будет различным.\nТак, например, при программном построении круговой диаграммы не подлежат показу оси и их подписи.\nЛогические ограничения при необходимости можно обойти за счет использования комбинированного графика, в состав которого можно включить различные виды диаграмм.\nПараметры настройки\nПри наличии\nсформированного источника\nна основе\nалгоритма\nможно перейти к настройке\nдобавленной\nв рабочую область дашборда аналитической панели \"Универсальный график\". Для этого следует нажать на кнопку\n.\nВ результате чего откроется модальное окно, где параметры настройки расположены на трех вкладках.\nОсновные настройки\nНа вкладке \"Основное\" определяются основные параметры аналитической панели:\nПараметр\nНазначение\nИсточник данных\nВыбор\nсформированного источника данных\n.\nНаименование\nВвод наименования для универсального графика.\nИная функциональность графика определяется его типом и составом компонентов, который должен вернуть\nалгоритм\n.\nНастройка стиля оформления\nНа вкладке \"Стиль оформления\" определяется размер занимаемой области диаграммы.\nПараметр\nНазначение\nВысота диаграммы, %\nУстановка значений высоты и ширины области аналитической панели  в процентах относительно высоты экрана.\nДля сохранения пропорций следует нажать на кнопку\n.\nПо умолчанию установлены следующие параметры: высота диаграммы – 100%, ширина – 40%.\nШирина диаграммы, %\nРасшифровки\nНа данной вкладке настраивается связь между двумя и более аналитическими панелями, иными словами данная настройка позволяет в режиме реального времени изменять отображение данных одной аналитической панели в зависимости от выбранного значения другой аналитической панели.\nПодробнее с настройкой расшифровок можно ознакомиться в статье \"\nДетализация данных (Drill Down Расшифровка)\n\".\nРезультат\nПосле настройки графика Система отобразит его в карточке дашборда.\nВсе графики являются скриптовыми компонентами языка JavaScript. Их содержимое может кэшироваться браузером. Поэтому, если обновления графика не произошло, несмотря на выполненную бизнес-аналитиком настройку, следует обновить содержимое страницы с обновлением кэша (клавиши \"Ctrl\" + \"F5\").\nС примерами генерации различных статических диаграмм (графиков) можно ознакомиться далее.\nПринципиальные возможности и модель настройки параметрического управления графиками рассмотрены в специализированной статье\n\"Параметрическое управление графиком\"\n.\nПримеры графиков\nОтдельные технические действия по созданию, заполнению и форматированию элементов графика не имеют смысла, так как результат будет получен только в сочетании действий. Поэтому на серии примеров рассмотрим ключевые действия алгоритмов, генерирующих графики и диаграммы.\nЛинейная диаграмма\nПри построении линейной диаграммы (графика) предполагается наличие осей и выдача наименований серий. Предпочтительный масштаб шкал вычисляется автоматически.\nИнтерактивность предполагает высветление неактивных элементов и появление поясняющей выноски.\nПример алгоритма линейного графика создаётся при помощи функции\nnewLineChart\n.\ndef\nchart :\n= newLineChart( )\nchart.\ntitle :\n=\n\"Линейный график\"\nchart.\nsubTitle :\n=\n\"На базе тригонометрических выражений\"\nchart.yAxis.\ntitle :\n=\n\"Значение по оси Y\"\ndef\ns1 :\n= newChartSerie( )\ns1.\nname :\n=\n\"Выражение с синусом\"\ndef\ns2 :\n= newChartSerie( )\ns2.\nname :\n=\n\"Комбинация функций\"\ns2.\ncolor :\n=\n\"#FF0000\"\nfor\n(\ndef\ni:\n=\n1\n; i<\n20\n;\ni:\n=i+\n1\n){\ns1.values.add(round(\n10\n*Math.sin(i/\n3\n),\n0\n))\ns2.values.add(round(\n6\n*Math.sin(i*\n2\n)*Math.cos(i/\n2\n),\n2\n))\n}\nchart.series.add(s1)\nchart.series.add(s2)\nchart\ngroovy\nCopied!\nПо умолчанию графики предполагают интерактивный показ содержимого в окне браузера.\nПолучение результата в виде документа или статического рисунка доступно через контекстное меню диаграммы по кнопке\n, расположенной в правом верхнем углу области графика.\nСпециализированное меню позволяет выбрать предпочтительный режим загрузки снимка графика в форматах PNG, JPEG, SVG, а также в формате PDF документа.\nСтолбчатая диаграмма\nМожет использоваться для показа данных одной серии (одноцветный график) и для сравнительного анализа данных нескольких серий (см.схему ниже). При анализе данных нескольких серий настоятельно рекомендуется использовать легенду.\nПри наведении мыши на столбики происходит демонстрация поясняющей плашки с высвечиванием столбиков неактивных серий.\nПример алгоритма столбчатой диаграммы создаётся посредством функции\nnewColumnChart\n.\ndef\nchart :\n= newColumnChart()\nchart.\ntitle :\n=\n\"Столбчатая диаграмма\"\nchart.\nsubTitle :\n=\n\"Фактический объем поставок в тоннах\"\nchart.xAxis.\ntitle :\n=\n\"Тоннаж поставок по итогам года\"\nchart.yAxis.\ntitle :\n=\n\"\"\ndef\nlegend :\n= newChartLegendParams(\ntrue\n,\n\"right\"\n,\n\"middle\"\n,\n\"vertical\"\n)\nchart.\nlegend :\n= legend\nfor\n(\ndef\nk:\n=\n1\n; k<\n5\n;\nk:\n=k+\n1\n){\nchart.xAxis.categories.add(\n\"За \"\n+k+\n\" квартал\"\n)\n}\ndef\nserie :\n= newColumnChartSerie()\nserie.\nname :\n=\n\"Новосибирск\"\nserie.\ncolor :\n=\n\"#FF0000\"\nserie.values.add(\n18\n)\nserie.values.add(\n27\n)\nserie.values.add(\n32\n)\nserie.values.add(\n16\n)\nchart.series.add(serie)\nserie :\n= newColumnChartSerie()\nserie.\nname :\n=\n\"Екатеринбург\"\nserie.values.add(\n11\n)\nserie.values.add(\n20\n)\nserie.values.add(\n35\n)\nserie.values.add(\n27\n)\nchart.series.add(serie)\nserie :\n= newColumnChartSerie()\nserie.\nname :\n=\n\"Владивосток\"\nserie.values.add(\n3\n)\nserie.values.add(\n7\n)\nserie.values.add(\n21\n)\nserie.values.add(\n39\n)\nchart.series.add(serie)\nchart\ngroovy\nCopied!\nКруговая диаграмма\nКруговая диаграмма предпочтительна для визуализации данных и однородных показателей, распределенных по сегментам.\nДиаграмму часто приходится приводить к корпоративному цветовому решению посредством назначения цветовой палитры, которая применяется циклически.\nНаведение курсора на сегмент или на его подпись сопровождается показом поясняющей выноски и высветлением неактивных элементов.\nПример алгоритма круговой диаграммы, для создания которого используется функция\nnewPieChart\n.\ndef\nchart :\n= newPieChart()\nchart.\ntitle :\n=\n\"Круговая диаграмма\"\nchart.\nsubTitle :\n=\n\"Суммарная поставка по регионам\"\nsetChartColors(chart,\n'#148E5F'\n,\n'#00FF00'\n,\n'#66FF66'\n,\n'#99FF99'\n,\n'#CCFFCC'\n)\ndef\nserie :\n= newPieChartSerie()\nserie.\nname :\n=\n\"Поставка\"\nserie.values.add(\n19\n,\n\"Москва\"\n)\nserie.values.add(\n9\n,\n\"Новосибирск\"\n)\nserie.values.add(\n7.6\n,\n\"Екатеринбург\"\n)\nserie.values.add(\n5\n,\n\"Пермь\"\n)\nserie.values.add(\n3\n,\n\"Владивосток\"\n)\nchart.series.add(serie)\nchart\ngroovy\nCopied!\nПончиковая диаграмма\nПончиковая диаграмма – это вариация круговой диаграммы, но со свободным пространством в центре.\nНаведение курсора на сегмент или на его подпись сопровождается показом поясняющей выноски и высветлением неактивных элементов.\nПример алгоритма пончиковой диаграммы написан при помощи функции\nnewDonutChart\n.\ndef\nchart :\n= newPieChart()\nchart.\ntitle :\n=\n\"Пончиковая диаграмма\"\nchart.\nsubTitle :\n=\n\"Суммарная поставка по регионам\"\nsetChartColors(chart,\n'#148E5F'\n,\n'#00FF00'\n,\n'#66FF66'\n,\n'#99FF99'\n,\n'#CCFFCC'\n)\ndef\nserie :\n= newChartSerie()\nserie.\ninnerSize :\n=\n\"80%\"\nserie.\nname :\n=\n\"Поставка\"\nserie.values.add(\n19\n,\n\"Москва\"\n)\nserie.values.add(\n9\n,\n\"Новосибирск\"\n)\nserie.values.add(\n7.6\n,\n\"Екатеринбург\"\n)\nserie.values.add(\n5\n,\n\"Пермь\"\n)\nserie.values.add(\n3\n,\n\"Владивосток\"\n)\nchart.series.add(serie)\nchart\ngroovy\nCopied!\nПараметр innerSize задаётся в %. Для корректного отображения графика необходимо указывать значение <100%.\nВоронкообразная диаграмма\nВоронкообразные диаграммы помогают визуализировать процесс, состоящий из этапов, в котором элементы последовательно переходят от одного этапа к другому.\nЧаще всего данный вид диаграммы используется для представления этапов процесса продаж и отображения суммы потенциального дохода для каждого из этапов.\nНаведение курсора на один из уровней воронки или на его подпись сопровождается показом поясняющей выноски и высветлением неактивных элементов.\nПример алгоритма воронкообразного графика, для создания которого использована функция\nnewFunnelChart\n.\ndef\nchart :\n= newFunnelChart()\nchart.\ntitle :\n=\n\"Воронкообразная диаграмма\"\nchart.\nsubTitle :\n=\n\"Воронка продаж по рекламному объявлению, количество человек\"\nsetChartColors(chart,\n'#D8BFD8'\n,\n'#BA55D3'\n,\n'#8A2BE2'\n,\n'#9400D3'\n,\n'#800080'\n,\n'#4B0082'\n)\ndef\nserie :\n= newChartSerie()\nserie.\nname :\n=\n\"Воронка продаж\"\nserie.values.add(\n9056\n,\n\"Показы объявления\"\n)\nserie.values.add(\n3483\n,\n\"Переходы на сайт\"\n)\nserie.values.add(\n2004\n,\n\"Добавление товаров в корзину\"\n)\nserie.values.add(\n467\n,\n\"Оформление заказа\"\n)\nserie.values.add(\n454\n,\n\"Оплата заказа\"\n)\nserie.values.add(\n189\n,\n\"Повторные покупки\"\n)\nchart.series.add(serie)\ndef\nplotOpt :\n= newChartPlotOptions()\nplotOpt.\nwidth :\n=\n\"70%\"\nplotOpt.\nheight :\n=\n\"100%\"\nplotOpt.\nneckWidth :\n=\n\"20%\"\nplotOpt.\nneckHeight :\n=\n\"30%\"\nchart.\nplotOptions :\n= plotOpt\nchart\ngroovy\nCopied!\nПирамидальная диаграмма\nДанный вид диаграммы использует треугольную диаграмму для визуального представления иерархий. Треугольник разделен на секции, иллюстрирующие вертикально нисходящие и широко-узкие структуры и процессы.\nНаведение курсора на один из уровней пирамиды или на его подпись сопровождается показом поясняющей выноски и высветлением неактивных элементов.\nПример алгоритма пирамидального графика, созданный посредством функции\nnewPyramidChart\n.\ndef\nchart :\n= newPyramidChart()\nchart.\ntitle :\n=\n\"Пирамидальная диаграмма\"\nchart.\nsubTitle :\n=\n\"Распределение суши Земли по материкам\"\nsetChartColors(chart,\n'#228B22'\n,\n'#FF8C00'\n,\n'#FFFF00'\n,\n'#E9967A'\n,\n'#E0FFFF'\n,\n'#00CED1'\n)\ndef\nserie :\n= newChartSerie()\nserie.\nname :\n=\n\"Распределение суши Земли по материкам, %\"\nserie.values.add(\n37\n,\n\"Евразия\"\n)\nserie.values.add(\n20\n,\n\"Африка\"\n)\nserie.values.add(\n16\n,\n\"Северная Америка\"\n)\nserie.values.add(\n12\n,\n\"Южная Америка\"\n)\nserie.values.add(\n9\n,\n\"Антарктида\"\n)\nserie.values.add(\n6\n,\n\"Австралия и Океания\"\n)\nchart.series.add(serie)\ndef\nplotOpt :\n= newChartPlotOptions()\nplotOpt.\nwidth :\n=\n'60%'\nplotOpt.\nheight :\n=\n'100%'\nchart.\nplotOptions :\n= plotOpt\nchart\ngroovy\nCopied!\nКомбинированный график\nВ сложных случаях, когда в области диаграммы необходимо совместить несколько различных графиков, необходимо использовать комбинированный график. В такой универсальный контейнер можно последовательно внедрять серии (наборы данных) различного формата (см. рисунок ниже).\nПрочие варианты отрисовки графиков являются различными комбинациями действий, приведенных в примерах выше.\nПример алгоритма комбинированного графика написан при помощи функции\nnewChart\n.\ndef\nchart :\n= newChart()\nchart.\ntitle :\n=\n\"Комбинированный график\"\nchart.\nsubTitle :\n=\n\"Перевозки в рабочие и выходные дни\"\nchart.yAxis.\ntitle:\n=\n\"\"\nchart.xAxis.categories.add(\n\"Январь\"\n)\nchart.xAxis.categories.add(\n\"Февраль\"\n)\nchart.xAxis.categories.add(\n\"Март\"\n)\nchart.xAxis.categories.add(\n\"Апрель\"\n)\ndef\nserie :\n= newPieChartSerie()\nserie.\nname :\n=\n\"Total consumption\"\nserie.values.add(\n221\n,\n\"Всего в рабочие\"\n)\nserie.values.add(\n157\n,\n\"Всего в выходные\"\n)\nchart.series.add(serie)\nserie :\n= newColumnChartSerie()\nserie.\nname :\n=\n\"Рабочие дни\"\nserie.\ncolor :\n=\n\"#77FF77\"\nserie.values.add(\n50\n)\nserie.values.add(\n78\n)\nserie.values.add(\n8\n)\nserie.values.add(\n85\n)\nchart.series.add(serie)\nserie :\n= newColumnChartSerie()\nserie.\nname :\n=\n\"Выходные дни\"\nserie.\ncolor :\n=\n\"#777777\"\nserie.values.add(\n20\n)\nserie.values.add(\n60\n)\nserie.values.add(\n12\n)\nserie.values.add(\n65\n)\nchart.series.add(serie)\nserie :\n= newSplineChartSerie()\nserie.\nname :\n=\n\"Усредненно\"\nserie.\ncolor :\n=\n\"#FFB800\"\nserie.values.add(\n35\n)\nserie.values.add(\n69\n)\nserie.values.add(\n10\n)\nserie.values.add(\n75\n)\nchart.series.add(serie)\nchart\ngroovy\nCopied!",
  "source": "https://docs.greendata.ru/platform/ru/universal_graph_dashboard.html"
}