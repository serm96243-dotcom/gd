{
  "title": "newDonutChart",
  "text": "Была ли статья полезной?\nДа\nНет\nСпасибо за вашу оценку!\nОставляя более подробный отзыв, вы помогаете нам улучшать документацию\nКомментарий к оценке\nКонтактная информация (необязательно)\nВложения\nДобавить файл\nОтменить\nОтправить\nnewDonutChart\nФункция используется для построения кольцевой (пончиковой) диаграммы.\nПончиковая диаграмма – вариация круговой диаграммы, но со свободным пространством в центре.\nС этапами построения диаграммы можно ознакомиться в статье\n«Аналитическая панель \"Универсальный график\"»\n.\nСинтаксис\nnewPieChart\n( )\nПараметры функции отсутствуют.\nРабота с функцией предполагает заполнение\nполей экземпляра класса HighChart\n.\nПримечание\nДобавление функции в код алгоритма осуществляется с вкладки\n\"Графики\"\nпанели инструментов редактора алгоритмов.\nПри вызове функции осуществится вставка шаблона кода алгоритма, которую необходимо скорректировать по поставленной задаче.\nШаблон кода алгоритма для построения пончиковой диаграммы:\ndef\nchart :\n= newPieChart()\nchart.\ntitle :\n=\n\"Donut  Chart  Title\"\n//chart.setTitleStyle(Стиль форматирования по умолчанию для заголовка диаграммы универсального графика)\nchart.\nsubTitle :\n=\n\"Donut  Chart  Subtitle\"\n//chart.setSubTitleStyle(Стиль форматирования по умолчанию для подзаголовка диаграммы универсального графика)\nchart.setPalette(\n\"STANDARD_PALETTE\"\n)\nchart.setCyclicalPalette(\ntrue\n)\ndef\nserie :\n= newChartSerie()\nserie.\nname :\n=\n\"Market share, %\"\nserie.\ninnerSize :\n=\n\"50%\"\ndef\nobjId :\n=\n1\n//Var1: setup serie value via constructor\nserie.values.add(newChartValue(\n11.84\n,\nnull\n,\n\"Internet Explorer\"\n,\nnull\n, objId))\n//Var2: setup serie values via chain\nserie.values.add(newChartValue(\n61.41\n).setName(\n\"Chrome\"\n).setId(objId))\nserie.values.add(newChartValue(\n10.85\n).setName(\n\"Firefox\"\n).setId(objId))\nserie.values.add(newChartValue(\n4.67\n).setName(\n\"Edge\"\n).setId(objId))\nserie.values.add(newChartValue(\n4.18\n).setName(\n\"Safari\"\n).setId(objId))\nserie.values.add(newChartValue(\n1.64\n).setName(\n\"Sogou Explorer\"\n).setId(objId))\nserie.values.add(newChartValue(\n1.6\n).setName(\n\"Opera\"\n).setId(objId))\nserie.sortByValue(\n\"ASC\"\n)\n/*objId is an optional parameter: use it for drill-down charts.\nobjId should contain object id.\nYou can use the add function without objId parameter instead of the addWithId function if you don't need this parameter\n*/\nchart.series.add(serie)\nchart\ngroovy\nCopied!\nПри вызове функции шаблон кода содержит методы для установки стиля заголовка и подзаголовка диаграммы с указанием наименования объекта справочника, используемого по умолчанию.\nДля того чтобы код оставался функциональным, данные строки кода в статье закомментированы.\nПри настройке стиля заголовка/подзаголовка следует при помощи функции\ndict\nвыбрать экземпляр типа, дочернего от типа \"Стили форматирования и подсказок\" [STYLES_DICTIONARY], например,\n\"Основной стиль форматирования\"\n.\nС описанием функций и методов, используемых при построении графика, можно ознакомиться в статье\n\"Настройка универсального графика\"\n.\nСерию (набор данных) пончиковой диаграммы можно задать одним из двух способов:\ndef serie := newChartSerie()\ndef serie := newPieChartSerie()\nОсобенностью пончиковой диаграммы является необходимость использования параметра внутреннего радиуса (радиус отверстия) — innerSize, который задаётся в % следующим образом:\nserie.innerSize := \"70%\"\nДля корректного отображения графика значение innerSize должно быть менее 100%.\nПример\nНеобходимо изобразить график суммарной поставки товара по регионам в виде диаграммы \"пончик\". Алгоритм может принять следующий вид:\n//Создание диаграммы пончик\ndef\nchart :\n= newPieChart()\n//Добавление заголовка и подзаголовка графика\nchart.\ntitle :\n=\n\"Пончиковая диаграмма\"\nchart.\nsubTitle :\n=\n\"Суммарная поставка по регионам\"\n//Задание набора цветов всей диаграмме\nsetChartColors(chart,\n'#148E5F'\n,\n'#00FF00'\n,\n'#66FF66'\n,\n'#99FF99'\n,\n'#CCFFCC'\n)\n//Cоздание серии\ndef\nserie :\n= newPieChartSerie()\n//Внутренний радиус\nserie.\ninnerSize :\n=\n\"80%\"\n//Наименование серии\nserie.\nname :\n=\n\"Поставка\"\n//Добавление набора данных (серии)\nserie.values.add(\n19\n,\n\"Москва\"\n)\nserie.values.add(\n9\n,\n\"Новосибирск\"\n)\nserie.values.add(\n7.6\n,\n\"Екатеринбург\"\n)\nserie.values.add(\n5\n,\n\"Пермь\"\n)\nserie.values.add(\n3\n,\n\"Владивосток\"\n)\n//Добавление серии к диаграмме\nchart.series.add(serie)\n//Возврат заданной диаграммы\nchart\ngroovy\nCopied!\nДанный алгоритм генерирует содержимое\nаналитической панели \"Универсальный график\"\n.\nАлгоритм написан при помощи функции\nnewDonutChart\n,шаблон кода которой был отредактирован в рамках поставленной задачи.\nДиаграмма пончик на основе данного алгоритма примет следующий вид:\nНаведение курсора на сегмент или на его подпись сопровождается показом поясняющей выноски и притусклением неактивных элементов:",
  "source": "https://docs.greendata.ru/platform/ru/newdonutchart.html"
}