{
  "title": "newFunnelChart",
  "text": "Was this article helpful?\nYes\nNo\nThank you for rating the article!\nBy leaving more detailed feedback, you help us improve the documentation\nComment on the rating\nContact information (optional)\nAttachments\nAdd file\nCancel\nSubmit\nnewFunnelChart\nThe function is used to create a funnel chart.\nTo learn about the stages of creating a chart, see the\nUniversal graph dashboard\narticle.\nSyntax\nnewFunnelChart\n( )\nThere are no parameters for the function.\nFor more information about the functions and methods used to create charts, see the article\n\"Universal chart configuration\"\n.\nNote\nAdding a function to the algorithm code is done from the \"Charts\" section of the algorithm editor toolbar.\nWhen calling the function, it will insert the algorithm code template, which should be edited as part of the task.\nAlgorithm template code to build a funnel chart:\ndef\nchart :\n= newFunnelChart()\nchart.\ntitle :\n=\n\"Funnel  Chart  Title\"\n//chart.setTitleStyle(Default formatting style for the universal chart title)\nchart.\nsubTitle :\n=\n\"Funnel  Chart  Subtitle\"\n//chart.setSubTitleStyle(Default formatting style for the universal chart subtitle)\nchart.setPalette(\n\"STANDARD_PALETTE\"\n)\nchart.setCyclicalPalette(\ntrue\n)\ndef\nserie :\n= newChartSerie()\nserie.\nname :\n=\n\"Market share, %\"\ndef\nobjId :\n=\n1\n//Var1: setup serie value via constructor\nserie.values.add(newChartValue(\n11.84\n,\nnull\n,\n\"Internet Explorer\"\n,\nnull\n, objId))\n//Var2: setup serie values via chain\nserie.values.add(newChartValue(\n61.41\n).setName(\n\"Chrome\"\n).setId(objId))\nserie.values.add(newChartValue(\n10.85\n).setName(\n\"Firefox\"\n).setId(objId))\nserie.values.add(newChartValue(\n4.67\n).setName(\n\"Edge\"\n).setId(objId))\nserie.values.add(newChartValue(\n4.18\n).setName(\n\"Safari\"\n).setId(objId))\nserie.values.add(newChartValue(\n1.64\n).setName(\n\"Sogou Explorer\"\n).setId(objId))\nserie.values.add(newChartValue(\n1.6\n).setName(\n\"Opera\"\n).setId(objId))\nserie.sortByValue(\n\"ASC\"\n)\n/*objId is an optional parameter: use it for drill-down charts.\nobjId should contain object id.\nYou can use the add function without objId parameter instead of the addWithId function if you don't need this parameter\n*/\nchart.series.add(serie)\ndef\nplotOpt :\n= newChartPlotOptions()\nplotOpt.\nwidth :\n=\n\"80%\"\nplotOpt.\nheight :\n=\n\"90%\"\nplotOpt.\nneckWidth :\n=\n\"40%\"\nplotOpt.\nneckHeight :\n=\n\"20%\"\nchart.\nplotOptions :\n= plotOpt\nchart\ngroovy\nCopied!\nWhen calling the function, the code template includes methods for setting the chart title and subtitle styles, with reference to the name of the directory object used by default.\nTo keep the code functional, these lines are commented out in the article.\nWhen configuring the title/subtitle style, use the\ndict\nfunction to select a type instance that is a child of the \"Formatting and tooltip styles\" [STYLES_DICTIONARY] type, for example,\n\"Main formatting style\"\n.\nFor editing and completing the code of the chart algorithm, read\nBasic parameters and components of the algorithm\n.\nThe specific feature of writing the pyramid chart algorithm is the need to specify such parameters as:\nwidth — chart width;\nheight — chart height;\nneckWidth — funnel neck width;\nneckHeight— funnel neck height.\nWhich are set as follows:\ndef\nplotOpt :\n= newChartPlotOptions()\nplotOpt.\nwidth :\n=\n\"80%\"\nplotOpt.\nheight :\n=\n\"90%\"\nplotOpt.\nneckWidth :\n=\n\"40%\"\nplotOpt.\nneckHeight :\n=\n\"20%\"\nchart.\nplotOptions :\n= plotOpt\ngroovy\nCopied!\nUse example\nUser need to demonstrate the effectiveness of an online ad by displaying a sales funnel.\nTo do this, use the following algorithm:\n//Creating a Funnel chart\ndef\nchart :\n= newFunnelChart()\n//Adding a chart title and subtitle\nchart.\ntitle :\n=\n\"Funnel chart\"\nchart.\nsubTitle :\n=\n\"Sales funnel for an ad, number of people\"\n//Specifying a set of colors for the whole chart\nsetChartColors(chart,\n'#D8BFD8'\n,\n'#BA55D3'\n,\n'#8A2BE2'\n,\n'#9400D3'\n,\n'#800080'\n,\n'#4B0082'\n)\n//Creating a series\ndef\nserie :\n= newChartSerie()\n//Series name\nserie.\nname :\n=\n\"Sales funnel\"\n//Adding series values\nserie.values.add(\n9056\n,\n\"Ad display\"\n)\nserie.values.add(\n3483\n,\n\"Website visits\"\n)\nserie.values.add(\n2004\n,\n\"Products added to cart\"\n)\nserie.values.add(\n467\n,\n\"Checkout\"\n)\nserie.values.add(\n454\n,\n\"Payment\"\n)\nserie.values.add(\n189\n,\n\"Repeat purchase\"\n)\n//Adding the series to the chart\nchart.series.add(serie)\n//Display options\ndef\nplotOpt :\n= newChartPlotOptions()\nplotOpt.\nwidth :\n=\n\"70%\"\nplotOpt.\nheight :\n=\n\"100%\"\nplotOpt.\nneckWidth :\n=\n\"20%\"\nplotOpt.\nneckHeight :\n=\n\"30%\"\nchart.\nplotOptions :\n= plotOpt\n//Returning a given chart\nchart\ngroovy\nCopied!\nThis algorithm generates the contents of custom charts, to create it, read the\nThe Custom Highcharts dashboard\narticle.\nThe algorithm is created using the\nnewFunnelChart\nfunction, the algorithm code of which was edited as part of the task.\nThe Funnel chart based on this algorithm will look as follows::\nHovering the cursor over a segment or its caption is accompanied by displaying an explanatory note and shading inactive elements:",
  "source": "https://docs.greendata.ru/platform/en/newfunnelchart.html"
}